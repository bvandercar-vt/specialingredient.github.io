const r={OPEN:"open",HIDDEN:"hidden",DISPLAY_NONE:"display-none",GRID_CARD:"grid-card",CARD_TITLE:"card-title",COLLAPSE_CARET:"collapse-caret",CARD_COLLAPSE_CONTENT:"collapse-content",SCROLL_ARROW:"scroll-arrow",TRANSFORM_TO_SC_ITEM:"transform-to-sc-item",TRACK_WRAPPER:"track-wrapper",TRACK_TITLE:"track-title",TRACK_GENRE_DESC:"track-genre-description",TRACK_ADDL_DESC:"track-addl-description",PRIVACY_POLICY_COVER:"privacy-policy-cover",TREE:"tree",LEFT_ICON:"left-icon",RIGHT_SIDE:"right-side",FOLDER_TREE:"folder-tree",TOOLTIP:"tooltip",TOOLTIP_TEXT:"tooltiptext"},A=800;function C(t,o=0){return t.scrollTop<o}function d(t,o=0){return t.scrollTop>t.scrollHeight-t.offsetHeight-o}function L(t){return t.scrollHeight>t.clientHeight}function T(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}function E(){return T()<A}function p(t,{attributes:o,classes:i,onClick:e}={}){const n=document.createElement(t);return o&&Object.entries(o).forEach(([s,c])=>n.setAttribute(s,c)),i&&n.classList.add(...i),e&&n.addEventListener("click",e),n}function u(t){(t.key==="Enter"||t.key===" ")&&t.target?.dispatchEvent(new MouseEvent("click",{...t,view:void 0}))}function _(t,o){new MutationObserver(i=>{i.forEach(e=>{e.type==="attributes"&&e.attributeName==="class"&&o()})}).observe(t,{attributes:!0})}function h(){function t(e){return e.classList.contains(r.HIDDEN)}function o(e,n){const s=e.parentElement,c=s.getElementsByClassName(r.CARD_COLLAPSE_CONTENT)[0],a=s.getElementsByClassName(r.COLLAPSE_CARET)[0];c.classList.toggle(r.HIDDEN,n),a.classList.toggle(r.OPEN,!n)}const i=Array.from(document.getElementsByClassName(r.CARD_TITLE));i.forEach(e=>{o(e,E()),e.setAttribute("role","button"),e.setAttribute("tabIndex",String(0)),e.addEventListener("keypress",u),e.addEventListener("click",async()=>{const n=e.parentElement,s=n.getElementsByClassName(r.CARD_COLLAPSE_CONTENT)[0],c=t(s);o(e,!c),c&&(f(s),n.scrollIntoView({behavior:"smooth",block:"start"}),E()&&i.forEach(a=>{a!==e&&o(a,!0)}))})}),window.addEventListener("resize",()=>{i.forEach(e=>{o(e,E())})},!0)}function f(t){if(!L(t)||t.getElementsByClassName(r.SCROLL_ARROW).length>0)return;const o=150,i=100,e=[r.SCROLL_ARROW,"fa","fa-2x"],n=p("div",{classes:[...e,"fa-caret-up"],onClick:()=>{const l=t.scrollTop-o;t.scrollTo({top:C({scrollTop:l},i)?0:l,behavior:"smooth"})}}),s=p("div",{classes:[...e,"fa-caret-down"],onClick:()=>{const l=t.scrollTop+o;t.scrollTo({top:d({scrollHeight:t.scrollHeight,offsetHeight:t.offsetHeight,scrollTop:l},i)?t.scrollHeight:l,behavior:"smooth"})}});t.parentElement.insertBefore(n,t),t.parentElement.appendChild(s);const c=5;n.style.top=t.offsetTop+c+"px",s.style.top=t.offsetTop+t.getBoundingClientRect().height-s.getBoundingClientRect().height-c+"px";function a(){n.classList.toggle(r.DISPLAY_NONE,C(t,50)),s.classList.toggle(r.DISPLAY_NONE,d(t,50))}a(),t.addEventListener("scroll",a),_(t,a)}function O(){const t=()=>document.documentElement.style.setProperty("--app-height",`${window.innerHeight}px`);window.addEventListener("resize",t),t(),h(),Array.from(document.getElementsByClassName(r.CARD_COLLAPSE_CONTENT)).forEach(o=>f(o))}O();
